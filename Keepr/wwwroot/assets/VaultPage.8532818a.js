import{_ as k,o as S,c as p,P as i,v as m,K as M,q as C,L as B,s as A,S as P,x as E,a as l,b as t,y as L,t as h,l as g,F as f,r as j,d as r,w as v,z,m as F,e as u,f as n,u as N,A as V,p as D,n as R,B as T}from"./index.a3ca8da2.js";const q={setup(){const s=z(),d=N();async function y(){try{const a=d.params.vaultId;await m.getVaultById(a)}catch(a){let c=a.response.data;c=="This Vault is locked doooown"?(F.error(a),i.toast(c,"error"),s.push({name:"Home"})):i.error(a)}}async function e(){try{const a=d.params.vaultId;await m.getKeepsByVaultId(a)}catch(a){i.error(a)}}return S(()=>{y(),e()}),{activeVault:p(()=>V.activeVault),vaultKeeps:p(()=>V.keepsInVault),account:p(()=>V.account),async deleteVault(a){try{await i.confirm("Are you sure you want to delete this Vault ?")&&(await m.deleteVault(a),s.push({name:"Profile",params:{profileId:this.account.id}}))}catch(c){i.error(c)}}}},components:{KeepCard:M,ActiveKeepCard:C,LargeModal:B,VaultKeepCard:A,SmallModal:P,ActiveVaultKeepModal:E}},o=s=>(D("data-v-a7722f64"),s=s(),R(),s),H={key:0,class:"container-fluid main-cont"},G={class:"header-cont"},J={class:"mb-4"},O={class:"mb-2"},Q={key:0,class:"d-flex justify-content-end"},U=o(()=>t("i",{class:"mdi mdi-dots-horizontal selectable me-2 dropdown-toggle fs-3","data-bs-toggle":"dropdown",type:"button",title:"Vault options"},null,-1)),W={class:"dropdown-menu drop-style"},X=o(()=>t("li",null,[t("a",{class:"dropdown-item","data-bs-toggle":"modal","data-bs-target":"#editVault"},"Edit Vault")],-1)),Y=o(()=>t("div",{class:"dropdown-border"},null,-1)),Z=T("Delete Vault "),$=o(()=>t("i",{class:"mdi mdi-delete-outline"},null,-1)),tt=[Z,$],et={class:"d-flex justify-content-center mt-3"},at={class:"count-style elevation-1"},ot={class:"mt-4"},st=o(()=>t("h2",{class:"width-100 mb-3 j-content"},"Keeps",-1)),lt={key:0,class:"width-100 mt-4"},nt=o(()=>t("h1",null," Sorry there are no keeps in this vault, please go add some.",-1)),dt=[nt],ct={key:1,class:"vault-cont"},it=["id"],rt=o(()=>t("section",null,null,-1)),ut=o(()=>t("div",null,"Edit your Vault",-1));function _t(s,d,y,e,a,c){const K=u("VaultKeepCard"),w=u("EditVaultForm"),b=u("SmallModal"),I=u("ActiveVaultKeepModal"),x=u("LargeModal");return n(),l(f,null,[e.activeVault?(n(),l("div",H,[t("section",G,[t("div",{class:"cover-img mt-4 d-flex justify-content-end align-items-center text-light flex-column text-shadow text-center",style:L({backgroundImage:`url(${e.activeVault.img})`,backgroundPosition:"center",backgroundSize:"cover"})},[t("div",J,[t("h1",O,h(e.activeVault.name),1),t("h6",null,"by "+h(e.activeVault.creator.name),1)])],4),e.account.id==e.activeVault.creator.id?(n(),l("div",Q,[U,t("ul",W,[X,Y,t("li",null,[t("a",{class:"dropdown-item",onClick:d[0]||(d[0]=_=>e.deleteVault(e.activeVault.id))},tt)])])])):g("",!0),t("div",et,[t("h5",at,h(e.vaultKeeps.length)+" Keeps",1)])]),t("div",ot,[st,e.vaultKeeps==0?(n(),l("div",lt,dt)):(n(),l("div",ct,[(n(!0),l(f,null,j(e.vaultKeeps,_=>(n(),l("div",{class:"card card-style mb-3 rounded",id:_.id},[r(K,{vaultKeep:_},null,8,["vaultKeep"])],8,it))),256))]))]),rt])):g("",!0),r(b,{id:"editVault"},{header:v(()=>[ut]),body:v(()=>[r(w)]),_:1}),r(x,{id:"keepModal"},{body:v(()=>[r(I)]),_:1})],64)}const mt=k(q,[["render",_t],["__scopeId","data-v-a7722f64"]]);export{mt as default};
